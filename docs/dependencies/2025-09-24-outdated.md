# Dependency Audit — 2025-09-24

Command:
```bash
npm outdated --long
```

## Summary
- **Critical frameworks:**
  - `next@15.5.3 → 15.5.4`
  - `react@19.1.0 → 19.1.1`
  - `react-dom@19.1.0 → 19.1.1`
- **Rendering stack:**
  - `three@0.178.0 → 0.180.0` (breaking API changes expected)
  - `@react-three/fiber@9.2.0 → 9.3.0`
  - `@react-three/drei@10.6.1 → 10.7.6`
  - `@react-spring/*@10.0.1 → 10.0.3`
- **Tooling & linting:**
  - `eslint-config-next@15.5.3 → 15.5.4`
  - `@typescript-eslint/*@8.44.0 → 8.44.1`
  - `lint-staged@16.1.6 → 16.2.0`
  - `typescript@5.8.3 → 5.9.2`
- **UI utilities & icons:**
  - `@radix-ui/react-*` packages have patch bumps (1.1.x/2.2.x series)
  - `lucide-react@0.468.0 → 0.544.0`
- **Misc:**
  - `nanoid@5.1.5 → 5.1.6`
  - `@tailwindcss/typography@0.5.16 → 0.5.19`
  - `@testing-library/jest-dom@6.6.4 → 6.8.0`

## Proposed Plan
1. **Immediate patch upgrades** (CI smoke expected to pass):
   - `next`, `react`, `react-dom`, `eslint-config-next`, `lint-staged`, `nanoid`, Radix UI patch versions, Testing Library patch versions.
   - Blocker: none (follow normal smoke pipeline).
2. **Follow-up / regression-prone:**
   - `three` + `@react-three/*` + `@react-spring/*` — require scene regression tests and visual QA.
   - `lucide-react` (large version jump) — confirm icon exports are stable.
   - `typescript@5.9.2` — run full type-check suite and adjust config if needed.
3. **Deferred until Storybook/design-token work:**
   - `@tailwindcss/typography` patch can bundle with upcoming design-system update.

## Depcheck Notes
Command: `npx depcheck`
- Reported missing modules:
  - `@motionone/react`, `react-knob-headless` — referenced only in `.archived-components/EffectsPanel.tsx`; can ignore or remove archive code later.
- Reported unused dependencies include `@radix-ui/*`, `workbox-webpack-plugin`, etc. These are false positives because Next.js loads them dynamically or via config; no action taken.
- `depcheck` emitted a warning (`Cannot find module 'webpack'`) due to Next PWA plugin; informational only.

## Next Steps
- Apply patch-level upgrades first, run `./scripts/pipeline-smoke.sh`.
- Schedule a rendering regression session for the Three.js stack (issue #38/#39 alignment).
- Remove or refactor archived components to reduce depcheck noise.
